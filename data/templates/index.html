{% extends "base.html" %}
{% block page_title %}Frugality{% endblock %}

{% block stylesheets %}
<link rel="stylesheet" type="text/css" href="{{url_for('static', filename='style/base.css')}}">
<link rel="stylesheet" type="text/css" href="{{url_for('static', filename='style/index.css')}}">
{% endblock %}

{% block scripts %}
<script defer type="module" src="{{url_for('static', filename='js/index.js')}}"></script>
<script defer type="module" src="{{url_for('static', filename='js/utils.js')}}"></script>
{% endblock %}

{%block content %}
<nav>
    <p>Navigation</p>
</nav>
<header>
    <h1>Frugality</h1>
    <div class="store-box">
        <input id="store-input" class="field rounded shadow" type="text" placeholder="Search for a store"></input>
        <div class="store-result-container bottom-shadow rounded-bottom">
            <ul>
                <li class="store-result-item border-bottom-light">
                    <p class="store-result-txt">Test Store 1</p>
                </li>
                <li class="store-result-item border-bottom-light">
                    <p class="store-result-txt">Test Store 2</p>
                </li>
                <li class="store-result-item border-bottom-light">
                    <p class="store-result-txt">Test Store 3</p>
                </li>
                <li class="store-result-item border-bottom-light">
                    <p class="store-result-txt">Test Store 4</p>
                </li>
                <li class="store-result-item border-bottom-light">
                    <p class="store-result-txt">Test Store 5</p>
                </li>
                <li class="store-result-item border-bottom-light">
                    <p class="store-result-txt">Test Store 6</p>
                </li>
                <li class="store-result-item">
                    <p class="store-result-txt">Test Store 7</p>
                </li>
            </ul>
        </div>
        <p class="arrow down-arrow"></p>
    </div>
    <ul class="horizontal-list stores-list">
        {% for store in store_names %}
        <li class="store-item">
            <p class="store-item-txt rounded shadow">{{store}}</p>
            <button onclick="removeStore({{loop.index0}})">-</button>
        </li>
        {% endfor %}
    </ul>
</header>
<main>
    <section class="section-1 shadow">
        <h2>Product Search</h2>
        <div class="query-box">
            <input id="query-input" class="field rounded shadow" type="text" placeholder="Enter products to query"></input>
            <button id="query_add_btn"class="btn rounded shadow">+</button>
        </div>
        <ul class="vertical-list queries-list">
            {% for item in queries %}
            <li class="query-item shadow rounded-more">
                <div class="query-data">
                    <p class="count">{{item["count"]}}x</p>
                    <div class="item-text">
                        <p class="name">{{item["query"]}}</p>
                        <p class="category">{{item["category"]}}</p>
                    </div>
                    <button class="btn rounded" onclick="removeProductQuery({{loop.index0}})">-</button>
                </div>
            </li>
            {% endfor %}
        </ul>
        <button id="send-query-btn" class="btn rounded shadow" onclick="sendProductQuery()">Query Search</button>
    </section>
</main>
<footer>
    <p>Footer</p>
</footer>
{% endblock %}