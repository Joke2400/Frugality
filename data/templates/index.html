{% extends "base.html" %}
{% block page_title %}Frugality{% endblock %}

{% block stylesheets %}
<link rel="stylesheet" type="text/css" href="{{url_for('static', filename='style/style.css')}}">
{% endblock %}

{% block scripts %}
<script defer src="{{url_for('static', filename='js/index.js')}}"></script>
{% endblock %}

{%block content %}
<div class="page">
    <div class="store-container container">
        <div class="store-msg-box">
            <p class="store-msg">{{store}}</p>
        </div>
        <form id="store-form" action="{{url_for('get_store')}}">
            <input class="field" type="text" placeholder="Store Name" name="query"></input>
            <input class="btn" type="submit" value="Select store"></input>
        </form>
        <p>Example store: Prisma Olari 542862479</p>
    </div>

    <div class="queries-container container">
        <div class="query-input-box">
            <input id="query-input" class="field wide_field" type="text" placeholder="ex. Maito Laktoositon 1L"></input>
            <button class="btn" onclick="addQuery()">+</button>
        </div>
        <ul class="list">
            {% for item in queries %}
            <li class="query-item container">
                <div class="query-data">
                    <p class="count">{{item["count"]}}x</p>
                    <div class="item-text">
                        <p class="name">{{item["query"]}}</p>
                        <p class="category">{{item["category"]}}</p>
                    </div>
                    <button class="btn" onclick="removeQuery({{loop.index0}})">-</button>
                </div>
            </li>
            {% endfor %}
        </ul>
        <button class="btn" onclick="sendQuery()">Query Search</button>
    </div>

    <div class="products-container container">
        <ul class="list">
            {% for item in products %}
            <li class="product-item container">
                <div class="product-data">
                    <p class="count">{{item["count"]}}x</p>
                    <div class="item-text">
                        <p class="name">{{item["name"]}}</p>
                        <p class="category">{{item["category"]}}</p>
                    </div>
                    <div class="product-price-data">
                        <p class="unit_price">{{item["unit_price"]}}€/kpl</p>
                        <p class="comparison_price">{{item["comparison_price"]}}€/{{item["comparison_unit"]}}</p>
                    </div>
                    <button class="btn"></button>
                </div>
            </li>
            {% endfor %}
        </ul>
    </div>
</div>
{% endblock %}